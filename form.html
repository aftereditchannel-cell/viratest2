<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Onboarding</title>

<style>
:root{
  --primary:#7c3aed;
  --bg:#0f0f14;
  --card:#171720;
  --border:#2a2a35;
  --text:#ffffff;
  --muted:#9ca3af;
}

*{box-sizing:border-box;font-family:sans-serif}

body{
  margin:0;
  background:var(--bg);
  color:var(--text);
}

.app{
  min-height:100vh;
  display:flex;
  flex-direction:column;
}

header{
  padding:20px;
}

.top-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin-bottom:12px;
}

.back-btn{
  width:36px;
  height:36px;
  border-radius:10px;
  border:1px solid var(--border);
  background:var(--card);
  color:var(--text);
  font-size:18px;
  cursor:pointer;
}

.back-btn.disabled{
  opacity:0;
  pointer-events:none;
}

#stepText{
  font-size:14px;
  color:var(--muted);
}

.progress{
  height:4px;
  background:var(--border);
  border-radius:999px;
  overflow:hidden;
}

.progress span{
  display:block;
  height:100%;
  width:0%;
  background:linear-gradient(90deg,#7c3aed,#a78bfa);
  transition:.35s;
}

main{
  flex:1;
  overflow:hidden;
}

.slider{
  display:flex;
  width:300%;
  transition:transform .35s ease;
}

.step{
  width:100%;
  padding:20px;
  flex-shrink:0;
}

h2{margin:0 0 6px}
p{margin:0 0 20px;color:var(--muted);font-size:14px}

.field{margin-bottom:16px}
label{display:block;margin-bottom:6px;font-size:14px}

input{
  width:100%;
  padding:12px;
  border-radius:12px;
  border:1px solid var(--border);
  background:var(--card);
  color:var(--text);
}

.grid{
  display:grid;
  grid-template-columns:repeat(2,1fr);
  gap:10px;
}

.option{
  padding:14px;
  border-radius:14px;
  border:1px solid var(--border);
  background:var(--card);
  color:var(--text);
  cursor:pointer;
  transition:.2s;
  font-size:14px;
}

.option.active{
  border-color:var(--primary);
  background:rgba(124,58,237,.15);
  color:var(--primary);
}

footer{
  padding:16px;
  border-top:1px solid var(--border);
  background:rgba(15,15,20,.9);
}

.cta{
  width:100%;
  padding:16px;
  border-radius:16px;
  border:none;
  background:linear-gradient(135deg,#7c3aed,#a78bfa);
  color:white;
  font-size:16px;
  font-weight:bold;
  cursor:pointer;
  opacity:.4;
}

.cta.enabled{opacity:1}
</style>
</head>

<body>
<div class="app">

<header>
  <div class="top-header">
    <button id="backBtn" class="back-btn">&gt;</button>
    <span id="stepText">1/3</span>
  </div>
  <div class="progress">
    <span id="progress"></span>
  </div>
</header>

<main>
  <div class="slider" id="slider">

    <!-- STEP 1 -->
    <section class="step">
      <h2>Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ø¯Ù†ÛŒ</h2>
      <p>Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ø¯Ù‚ÛŒÙ‚â€ŒØªØ±</p>

      <div class="field">
        <label>Ù‚Ø¯</label>
        <input id="height" type="number">
      </div>

      <div class="field">
        <label>ÙˆØ²Ù†</label>
        <input id="weight" type="number">
      </div>

      <div class="field">
        <label>Ø³Ù† (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)</label>
        <input id="age" type="number">
      </div>

      <div class="field">
        <label>ÙØ±Ù… Ø¨Ø¯Ù†</label>
        <div class="grid" id="bodyShapes"></div>
      </div>
    </section>

    <!-- STEP 2 -->
    <section class="step">
      <h2>Ù‡ÙˆÛŒØª Ùˆ Ø³Ø¨Ú©</h2>
      <p>Ø³Ø¨Ú© Ø¯Ù„Ø®ÙˆØ§Ù‡Øª Ø±Ùˆ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†</p>

      <div class="field">
        <label>Ø¬Ù†Ø³ÛŒØª</label>
        <div class="grid" id="genders"></div>
      </div>

      <div class="field">
        <label>Ø³Ø¨Ú©â€ŒÙ‡Ø§ (Ú†Ù†Ø¯ØªØ§ÛŒÛŒ)</label>
        <div class="grid" id="styles"></div>
      </div>
    </section>

    <!-- STEP 3 -->
    <section class="step">
      <h2>Ø§Ù‡Ø¯Ø§Ù</h2>
      <p>Ù…ÛŒâ€ŒØ®ÙˆØ§ÛŒ Ú©Ø¬Ø§ Ú©Ù…Ú©Øª Ú©Ù†ÛŒÙ…ØŸ</p>
      <div class="grid" id="goals"></div>
    </section>

  </div>
</main>

<footer>
  <button id="nextBtn" class="cta">Ø¨Ø¹Ø¯ÛŒ</button>
</footer>

</div>

<script>
const data={
  height:"",weight:"",age:"",
  bodyShape:"",gender:"",
  styles:[],goals:[]
};

const bodyShapes=[["slim","Ù„Ø§ØºØ±"],["athletic","ÙˆØ±Ø²Ø´Ú©Ø§Ø±ÛŒ"],["average","Ù…ØªÙˆØ³Ø·"],["plus","Ù¾Ù„Ø§Ø³â€ŒØ³Ø§ÛŒØ²"]];
const genders=[["male","Ù…Ø±Ø¯"],["female","Ø²Ù†"],["non","ØºÛŒØ±Ø¯ÙˆØ¯ÙˆÛŒÛŒ"],["none","Ù†Ù…ÛŒâ€ŒÚ¯Ù…"]];
const styles=[["minimal","âœ¨ Ù…ÛŒÙ†ÛŒÙ…Ø§Ù„"],["street","ğŸ”¥ Ø®ÛŒØ§Ø¨Ø§Ù†ÛŒ"],["formal","ğŸ‘” Ø±Ø³Ù…ÛŒ"],["casual","ğŸ˜ Ú©Ú˜ÙˆØ§Ù„"],["sport","ğŸƒ Ø§Ø³Ù¾Ø±Øª"],["luxury","ğŸ’ Ù„Ø§Ú©Ú†Ø±ÛŒ"],["exp","ğŸ¨ ØªØ¬Ø±Ø¨ÛŒ"]];
const goals=[["daily","â˜€ï¸ Ø±ÙˆØ²Ø§Ù†Ù‡"],["party","ğŸ‰ Ù…Ù‡Ù…Ø§Ù†ÛŒ"],["date","ğŸ’• Ù‚Ø±Ø§Ø±"],["show","ğŸ’ƒ ÙØ´Ù†â€ŒØ´Ùˆ"],["closet","ğŸ‘š Ú©Ù…Ø¯"],["ai","ğŸ¤– Ø§Ø³ØªØ§ÛŒÙ„ÛŒØ³Øª"]];

let step=0;
const slider=document.getElementById("slider");
const progress=document.getElementById("progress");
const nextBtn=document.getElementById("nextBtn");
const backBtn=document.getElementById("backBtn");
const stepText=document.getElementById("stepText");

function render(list,el,key,multi=false){
  list.forEach(([val,label])=>{
    const btn=document.createElement("button");
    btn.className="option";
    btn.innerText=label;

    btn.onclick=()=>{
      if(multi){
        if(data[key].includes(val)){
          data[key]=data[key].filter(v=>v!==val);
          btn.classList.remove("active");
        }else{
          data[key].push(val);
          btn.classList.add("active");
        }
      }else{
        data[key]=val;
        [...el.children].forEach(b=>b.classList.remove("active"));
        btn.classList.add("active");
      }
      validate();
    };

    el.appendChild(btn);
  });
}

render(bodyShapes,document.getElementById("bodyShapes"),"bodyShape");
render(genders,document.getElementById("genders"),"gender");
render(styles,document.getElementById("styles"),"styles",true);
render(goals,document.getElementById("goals"),"goals",true);

["height","weight","age"].forEach(id=>{
  document.getElementById(id).oninput=e=>{
    data[id]=e.target.value;
    validate();
  };
});

function validate(){
  let ok=false;
  if(step===0) ok=data.height&&data.weight&&data.bodyShape;
  if(step===1) ok=data.gender&&data.styles.length;
  if(step===2) ok=data.goals.length;
  nextBtn.classList.toggle("enabled",ok);
}

function updateUI(){
  slider.style.transform=`translateX(-${step*100}%)`;
  progress.style.width=((step+1)/3*100)+"%";
  stepText.innerText=`${step+1}/3`;

  if(step===0) backBtn.classList.add("disabled");
  else backBtn.classList.remove("disabled");

  nextBtn.innerText=step===2?"Ø´Ø±ÙˆØ¹ Ú©Ù†ÛŒÙ… ğŸš€":"Ø¨Ø¹Ø¯ÛŒ";
  validate();
}

nextBtn.onclick=()=>{
  if(!nextBtn.classList.contains("enabled"))return;
  if(step<2){step++;updateUI();}
  else alert("Ø¢Ù†â€ŒØ¨ÙˆØ±Ø¯ÛŒÙ†Ú¯ Ú©Ø§Ù…Ù„ Ø´Ø¯ ğŸ˜");
};

backBtn.onclick=()=>{
  if(step>0){step--;updateUI();}
};

updateUI();
</script>

</body>
</html>
