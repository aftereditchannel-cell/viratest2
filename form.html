<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>فرم اطلاعات | ویرا استایل</title>
<link rel="stylesheet" href="auth.css">
<style>
/* اسلایدها */
.slide {
    display: none;
    text-align: center;
    padding: 50px 20px;
    color: white;
}

.slide.active {
    display: block;
}

input {
    display: block;
    width: 80%;
    margin: 15px auto;
    padding: 12px;
    border-radius: 12px;
    border: none;
    font-size: 15px;
    box-sizing: border-box;
}

.btn-next {
    margin-top: 20px;
    padding: 12px 20px;
    border: none;
    border-radius: 16px;
    background: linear-gradient(135deg,#b84cff,#ff66c4);
    color: white;
    font-size: 16px;
    cursor: pointer;
    transition: 0.25s;
}
.btn-next:hover {
    filter: brightness(1.1);
    transform: translateY(-2px);
}
</style>
</head>
<body>

<div class="auth-card">

    <h1>اطلاعات تکمیلی</h1>
    
    <!-- اسلاید 1 -->
    <div class="slide active" id="slide1">
        <p>نام و نام خانوادگی خود را وارد کنید</p>
        <input type="text" id="fullname" placeholder="نام و نام خانوادگی" />
        <button class="btn-next" onclick="nextSlide()">بعدی</button>
    </div>

    <!-- اسلاید 2 -->
    <div class="slide" id="slide2">
        <p>ایمیل خود را وارد کنید</p>
        <input type="email" id="email" placeholder="ایمیل" />
        <button class="btn-next" onclick="finishSlides()">ثبت و ادامه</button>
    </div>

</div>

<script>
// بررسی session
const session = JSON.parse(localStorage.getItem("vira_session") || "{}");

if (!session.id) {
    window.location.href = "auth.html"; // اگر کسی وارد نشده → برگرد
}

// مدیریت اسلایدها
let currentSlide = 1;
const totalSlides = 2;

function nextSlide() {
    document.getElementById(`slide${currentSlide}`).classList.remove("active");
    currentSlide++;
    if (currentSlide > totalSlides) currentSlide = totalSlides;
    document.getElementById(`slide${currentSlide}`).classList.add("active");
}

function finishSlides() {
    // ذخیره اطلاعات فرم
    session.fullname = document.getElementById("fullname").value || session.name;
    session.email = document.getElementById("email").value;
    session.formFilled = true;

    localStorage.setItem("vira_session", JSON.stringify(session));

    // هدایت به home.html
    window.location.href = "home.html";
}
</script>

</body>
</html>

